
var CollisionMap = require('./CollisionMap');

// a level is a bundle of a graphical tileset and a collisionMap
function Level (data) {
  data = data || {};
  this.raw = data.raw;
  this.tilesize = 16;
  this.w = this.raw[0].length * this.tilesize;
  this.h = this.raw.length * this.tilesize;
  this.collisionMap = new CollisionMap(this.tilesize, this.raw);
  console.log(this.collisionMap.pxWidth, this.collisionMap.pxHeight);
}

Level.defaultLevel = new Level({
  raw: [
    '11111111111111111111111111111111111111111111111111',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001',
    '10000000000000000000000000000000000000000000000001', // 10
    '10000000000000000111111000001111110000000000000001',
    '10000000000000000100000000000000010000000000000001',
    '10000000000000000100000000000000010000000000000001',
    '10000000000000000100000000000000000000000000000001',
    '10000000000000000100000000000000000000000000000001',
    '10000000000000000100000000000000000000000000000001',
    '10000000000000000100000000000000000000000000000001',
    '10000000000000000100000000000000000000000000000001',
    '10000000000000000100000000000000010000000000000001',
    '10000000000000000100000000000000010000000000000001', // 20
    '10000000000000000100000000000000010000000000000001',
    '10000000000000000100000000000000010000000000000001',
    '10000000000000000000000000000000010000000000000001',
    '10000000000000000000000000000000010000000000000001',
    '10000000000000000000000000000000010000000000000001',
    '10000000000000000000000000000000010000000000000001',
    '10000000000000000000000000000000010000000000000001',
    '10000000000000000100000000000000010000000000000001',
    '10000000000000000100000000000000010000000000000001',
    '11111111111111111111111111111111111111111111111111' // 30
  ].map(function (row) {
    return row.split('');
  })
});

module.exports = Level;
